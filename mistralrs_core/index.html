<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `mistralrs_core` crate."><title>mistralrs_core - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="mistralrs_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.2 (25ef9e3d8 2024-04-09)" data-channel="1.77.2" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../mistralrs_core/index.html">mistralrs_core</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../mistralrs_core/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">mistralrs_core</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/mistralrs_core/lib.rs.html#1-235">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.deserialize_chat_template.html" title="macro mistralrs_core::deserialize_chat_template">deserialize_chat_template</a></div></li><li><div class="item-name"><a class="macro" href="macro.get_bias_if_not_allowed.html" title="macro mistralrs_core::get_bias_if_not_allowed">get_bias_if_not_allowed</a></div></li><li><div class="item-name"><a class="macro" href="macro.get_mut_arcmutex.html" title="macro mistralrs_core::get_mut_arcmutex">get_mut_arcmutex</a></div></li><li><div class="item-name"><a class="macro" href="macro.get_mut_group.html" title="macro mistralrs_core::get_mut_group">get_mut_group</a></div></li><li><div class="item-name"><a class="macro" href="macro.get_paths.html" title="macro mistralrs_core::get_paths">get_paths</a></div></li><li><div class="item-name"><a class="macro" href="macro.handle_pipeline_forward_error.html" title="macro mistralrs_core::handle_pipeline_forward_error">handle_pipeline_forward_error</a></div></li><li><div class="item-name"><a class="macro" href="macro.handle_seq_error.html" title="macro mistralrs_core::handle_seq_error">handle_seq_error</a></div></li><li><div class="item-name"><a class="macro" href="macro.handle_seq_error_ok.html" title="macro mistralrs_core::handle_seq_error_ok">handle_seq_error_ok</a></div></li><li><div class="item-name"><a class="macro" href="macro.handle_seq_error_stateaware.html" title="macro mistralrs_core::handle_seq_error_stateaware">handle_seq_error_stateaware</a></div></li><li><div class="item-name"><a class="macro" href="macro.handle_seq_error_stateaware_ok.html" title="macro mistralrs_core::handle_seq_error_stateaware_ok">handle_seq_error_stateaware_ok</a></div></li><li><div class="item-name"><a class="macro" href="macro.lora_model_loader.html" title="macro mistralrs_core::lora_model_loader">lora_model_loader</a></div></li><li><div class="item-name"><a class="macro" href="macro.normal_model_loader.html" title="macro mistralrs_core::normal_model_loader">normal_model_loader</a></div></li><li><div class="item-name"><a class="macro" href="macro.xlora_model_loader.html" title="macro mistralrs_core::xlora_model_loader">xlora_model_loader</a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ChatCompletionChunkResponse.html" title="struct mistralrs_core::ChatCompletionChunkResponse">ChatCompletionChunkResponse</a></div></li><li><div class="item-name"><a class="struct" href="struct.ChatCompletionResponse.html" title="struct mistralrs_core::ChatCompletionResponse">ChatCompletionResponse</a></div><div class="desc docblock-short">An OpenAI compatible chat completion response.</div></li><li><div class="item-name"><a class="struct" href="struct.Choice.html" title="struct mistralrs_core::Choice">Choice</a></div></li><li><div class="item-name"><a class="struct" href="struct.ChunkChoice.html" title="struct mistralrs_core::ChunkChoice">ChunkChoice</a></div></li><li><div class="item-name"><a class="struct" href="struct.CompletionChoice.html" title="struct mistralrs_core::CompletionChoice">CompletionChoice</a></div></li><li><div class="item-name"><a class="struct" href="struct.CompletionResponse.html" title="struct mistralrs_core::CompletionResponse">CompletionResponse</a></div><div class="desc docblock-short">An OpenAI compatible completion response.</div></li><li><div class="item-name"><a class="struct" href="struct.Delta.html" title="struct mistralrs_core::Delta">Delta</a></div></li><li><div class="item-name"><a class="struct" href="struct.DeviceMapMetadata.html" title="struct mistralrs_core::DeviceMapMetadata">DeviceMapMetadata</a></div></li><li><div class="item-name"><a class="struct" href="struct.GGMLLoader.html" title="struct mistralrs_core::GGMLLoader">GGMLLoader</a></div></li><li><div class="item-name"><a class="struct" href="struct.GGMLLoaderBuilder.html" title="struct mistralrs_core::GGMLLoaderBuilder">GGMLLoaderBuilder</a></div><div class="desc docblock-short">A builder for a GGML loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GGMLSpecificConfig.html" title="struct mistralrs_core::GGMLSpecificConfig">GGMLSpecificConfig</a></div><div class="desc docblock-short">Config for a GGML loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GGUFLoader.html" title="struct mistralrs_core::GGUFLoader">GGUFLoader</a></div></li><li><div class="item-name"><a class="struct" href="struct.GGUFLoaderBuilder.html" title="struct mistralrs_core::GGUFLoaderBuilder">GGUFLoaderBuilder</a></div><div class="desc docblock-short">A builder for a GGUF loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GGUFSpecificConfig.html" title="struct mistralrs_core::GGUFSpecificConfig">GGUFSpecificConfig</a></div><div class="desc docblock-short">A config for a GGUF loader.</div></li><li><div class="item-name"><a class="struct" href="struct.GemmaLoader.html" title="struct mistralrs_core::GemmaLoader">GemmaLoader</a></div></li><li><div class="item-name"><a class="struct" href="struct.LayerDeviceMapper.html" title="struct mistralrs_core::LayerDeviceMapper">LayerDeviceMapper</a></div></li><li><div class="item-name"><a class="struct" href="struct.LlamaLoader.html" title="struct mistralrs_core::LlamaLoader">LlamaLoader</a></div></li><li><div class="item-name"><a class="struct" href="struct.LoaderBuilder.html" title="struct mistralrs_core::LoaderBuilder">LoaderBuilder</a></div></li><li><div class="item-name"><a class="struct" href="struct.Logprobs.html" title="struct mistralrs_core::Logprobs">Logprobs</a></div></li><li><div class="item-name"><a class="struct" href="struct.MistralLoader.html" title="struct mistralrs_core::MistralLoader">MistralLoader</a></div></li><li><div class="item-name"><a class="struct" href="struct.MistralRs.html" title="struct mistralrs_core::MistralRs">MistralRs</a></div><div class="desc docblock-short">The MistralRs struct handles sending requests to the engine.
It is the core multi-threaded component of mistral.rs, and uses <code>mspc</code>
<code>Sender</code> and <code>Receiver</code> primitives to send and receive requests to the
engine.</div></li><li><div class="item-name"><a class="struct" href="struct.MistralRsBuilder.html" title="struct mistralrs_core::MistralRsBuilder">MistralRsBuilder</a></div><div class="desc docblock-short">The MistralRsBuilder takes the pipeline and a scheduler method and constructs
an Engine and a MistralRs instance. The Engine runs on a separate thread, and the MistralRs
instance stays on the calling thread.</div></li><li><div class="item-name"><a class="struct" href="struct.MixtralLoader.html" title="struct mistralrs_core::MixtralLoader">MixtralLoader</a></div></li><li><div class="item-name"><a class="struct" href="struct.NormalLoader.html" title="struct mistralrs_core::NormalLoader">NormalLoader</a></div><div class="desc docblock-short">A loader for a “normal” (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.NormalLoaderBuilder.html" title="struct mistralrs_core::NormalLoaderBuilder">NormalLoaderBuilder</a></div><div class="desc docblock-short">A builder for a loader for a “normal” (non-quantized) model.</div></li><li><div class="item-name"><a class="struct" href="struct.NormalSpecificConfig.html" title="struct mistralrs_core::NormalSpecificConfig">NormalSpecificConfig</a></div><div class="desc docblock-short">Config specific to loading a normal model.</div></li><li><div class="item-name"><a class="struct" href="struct.Ordering.html" title="struct mistralrs_core::Ordering">Ordering</a></div></li><li><div class="item-name"><a class="struct" href="struct.Phi2Loader.html" title="struct mistralrs_core::Phi2Loader">Phi2Loader</a></div></li><li><div class="item-name"><a class="struct" href="struct.Request.html" title="struct mistralrs_core::Request">Request</a></div><div class="desc docblock-short">A request to the Engine, encapsulating the various parameters as well as
the <code>mspc</code> response <code>Sender</code> used to return the <a href="enum.Response.html" title="enum mistralrs_core::Response"><code>Response</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.ResponseLogprob.html" title="struct mistralrs_core::ResponseLogprob">ResponseLogprob</a></div></li><li><div class="item-name"><a class="struct" href="struct.ResponseMessage.html" title="struct mistralrs_core::ResponseMessage">ResponseMessage</a></div></li><li><div class="item-name"><a class="struct" href="struct.SamplingParams.html" title="struct mistralrs_core::SamplingParams">SamplingParams</a></div><div class="desc docblock-short">Sampling params are used to control sampling.</div></li><li><div class="item-name"><a class="struct" href="struct.TopLogprob.html" title="struct mistralrs_core::TopLogprob">TopLogprob</a></div></li><li><div class="item-name"><a class="struct" href="struct.Usage.html" title="struct mistralrs_core::Usage">Usage</a></div><div class="desc docblock-short">OpenAI compatible (superset) usage during a request.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Constraint.html" title="enum mistralrs_core::Constraint">Constraint</a></div><div class="desc docblock-short">Control the constraint with Regex or Yacc.</div></li><li><div class="item-name"><a class="enum" href="enum.ModelKind.html" title="enum mistralrs_core::ModelKind">ModelKind</a></div><div class="desc docblock-short">The kind of model to build.</div></li><li><div class="item-name"><a class="enum" href="enum.ModelSelected.html" title="enum mistralrs_core::ModelSelected">ModelSelected</a></div></li><li><div class="item-name"><a class="enum" href="enum.NormalLoaderType.html" title="enum mistralrs_core::NormalLoaderType">NormalLoaderType</a></div><div class="desc docblock-short">The architecture to load the normal model as.</div></li><li><div class="item-name"><a class="enum" href="enum.RequestMessage.html" title="enum mistralrs_core::RequestMessage">RequestMessage</a></div><div class="desc docblock-short">Message or messages for a <a href="struct.Request.html" title="struct mistralrs_core::Request"><code>Request</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.Response.html" title="enum mistralrs_core::Response">Response</a></div><div class="desc docblock-short">The response enum contains 3 types of variants:</div></li><li><div class="item-name"><a class="enum" href="enum.SchedulerMethod.html" title="enum mistralrs_core::SchedulerMethod">SchedulerMethod</a></div><div class="desc docblock-short">The scheduler method controld how sequences are scheduled during each
step of the engine. For each scheduling step, the scheduler method is used if there
are not only running, only waiting sequences, or none. If is it used, then it
is used to allow waiting sequences to run.</div></li><li><div class="item-name"><a class="enum" href="enum.StopTokens.html" title="enum mistralrs_core::StopTokens">StopTokens</a></div><div class="desc docblock-short">Stop sequences or ids.</div></li><li><div class="item-name"><a class="enum" href="enum.TokenSource.html" title="enum mistralrs_core::TokenSource">TokenSource</a></div><div class="desc docblock-short">The source of the HF token.</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.SYSTEM_FINGERPRINT.html" title="constant mistralrs_core::SYSTEM_FINGERPRINT">SYSTEM_FINGERPRINT</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Loader.html" title="trait mistralrs_core::Loader">Loader</a></div><div class="desc docblock-short">The <code>Loader</code> trait abstracts the loading process. The primary entrypoint is the
<code>load_model</code> method.</div></li><li><div class="item-name"><a class="trait" href="trait.Pipeline.html" title="trait mistralrs_core::Pipeline">Pipeline</a></div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.get_tgt_non_granular_index.html" title="fn mistralrs_core::get_tgt_non_granular_index">get_tgt_non_granular_index</a></div></li></ul></section></div></main></body></html>